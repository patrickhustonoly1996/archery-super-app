{
  "title": "Archery Super App Testing Roadmap",
  "description": "Ship a reliable app - no data loss, no payment bugs. 560 new tests across 27 files.",
  "tasks": [
    {
      "id": "1.1",
      "title": "Sync Service Tests",
      "description": "Create test/services/sync_service_test.dart - THE data loss fix. Test syncToCloud, syncFromCloud, conflictResolution, partialSync, offlineQueue, retryLogic, dataIntegrity, deletionSync, concurrentSync, networkFailure.",
      "priority": "critical",
      "status": "pending",
      "estimate": "45 tests",
      "source_file": "lib/services/sync_service.dart",
      "test_file": "test/services/sync_service_test.dart"
    },
    {
      "id": "1.2",
      "title": "User Profile Provider Tests",
      "description": "Create test/providers/user_profile_provider_test.dart - User identity and settings. Test loadProfile, updateProfile, createProfile, validateProfile, profileMigration, defaultValues.",
      "priority": "critical",
      "status": "pending",
      "estimate": "25 tests",
      "source_file": "lib/providers/user_profile_provider.dart",
      "test_file": "test/providers/user_profile_provider_test.dart"
    },
    {
      "id": "1.3",
      "title": "Training Session Service Tests",
      "description": "Create test/services/training_session_service_test.dart - Training data loss prevention. Test startSession, recordSet, completeSession, resumeSession, cancelSession, sessionStatistics.",
      "priority": "critical",
      "status": "pending",
      "estimate": "30 tests",
      "source_file": "lib/services/training_session_service.dart",
      "test_file": "test/services/training_session_service_test.dart"
    },
    {
      "id": "2.1",
      "title": "Stripe Service Tests",
      "description": "Create test/services/stripe_service_test.dart - Payment bugs = lost revenue. Test createSubscription, verifySubscription, cancelSubscription, webhookHandling, gracePeriod, expirationHandling, priceIdMapping, errorRecovery.",
      "priority": "critical",
      "status": "pending",
      "estimate": "35 tests",
      "source_file": "lib/services/stripe_service.dart",
      "test_file": "test/services/stripe_service_test.dart"
    },
    {
      "id": "2.2",
      "title": "Entitlement Provider Tests",
      "description": "Create test/providers/entitlement_provider_test.dart - Paywall logic. Test checkEntitlement, baseSubscription, autoPlotSubscription, gracePeriod, readOnlyMode, featureGating, subscriptionUpgrade, subscriptionDowngrade, offlineEntitlement, entitlementRefresh.",
      "priority": "critical",
      "status": "pending",
      "estimate": "40 tests",
      "source_file": "lib/providers/entitlement_provider.dart",
      "test_file": "test/providers/entitlement_provider_test.dart"
    },
    {
      "id": "3.1",
      "title": "Classification Service Tests",
      "description": "Create test/services/classification_service_test.dart - Archery classification calculations. Test calculateClassification, bowstyleClassification, ageGroupClassification, genderClassification, roundTypeClassification, progressTracking, historicalClassification.",
      "priority": "high",
      "status": "pending",
      "estimate": "35 tests",
      "source_file": "lib/services/classification_service.dart",
      "test_file": "test/services/classification_service_test.dart"
    },
    {
      "id": "3.2",
      "title": "Classification Provider Tests",
      "description": "Create test/providers/classification_provider_test.dart - Classification state management. Test loadClassifications, currentClassification, classificationHistory, nextClassificationTarget, classificationNotifications.",
      "priority": "high",
      "status": "pending",
      "estimate": "25 tests",
      "source_file": "lib/providers/classification_provider.dart",
      "test_file": "test/providers/classification_provider_test.dart"
    },
    {
      "id": "3.3",
      "title": "Sight Marks Provider Tests",
      "description": "Create test/providers/sight_marks_provider_test.dart - Sight mark CRUD. Test addSightMark, updateSightMark, deleteSightMark, getSightMarkForDistance, interpolateSightMark, sightMarkHistory, bowSpecificMarks.",
      "priority": "high",
      "status": "pending",
      "estimate": "30 tests",
      "source_file": "lib/providers/sight_marks_provider.dart",
      "test_file": "test/providers/sight_marks_provider_test.dart"
    },
    {
      "id": "3.4",
      "title": "Sight Mark Calculator Tests",
      "description": "Create test/utils/sight_mark_calculator_test.dart - Sight mark math. Test calculateSightMark, interpolation, extrapolation, clickConversion, unitConversion, edgeCases.",
      "priority": "high",
      "status": "pending",
      "estimate": "25 tests",
      "source_file": "lib/utils/sight_mark_calculator.dart",
      "test_file": "test/utils/sight_mark_calculator_test.dart"
    },
    {
      "id": "3.5",
      "title": "XP Calculation Service Tests",
      "description": "Create test/services/xp_calculation_service_test.dart - Gamification XP system. Test calculateXP, levelCalculation, levelUpDetection, xpMultipliers, xpHistory, leaderboardXP.",
      "priority": "high",
      "status": "pending",
      "estimate": "30 tests",
      "source_file": "lib/services/xp_calculation_service.dart",
      "test_file": "test/services/xp_calculation_service_test.dart"
    },
    {
      "id": "3.6",
      "title": "Round Matcher Tests",
      "description": "Create test/utils/round_matcher_test.dart - Round type detection. Test matchRound, ambiguousRounds, partialRounds, customRounds, indoorVsOutdoor, fieldRounds.",
      "priority": "high",
      "status": "pending",
      "estimate": "25 tests",
      "source_file": "lib/utils/round_matcher.dart",
      "test_file": "test/utils/round_matcher_test.dart"
    },
    {
      "id": "4.1",
      "title": "Auto-Plot Provider Tests",
      "description": "Create test/providers/auto_plot_provider_test.dart - Auto-plot state. Test startAutoPlot, processFrame, detectArrows, confirmPlot, cancelAutoPlot, quotaTracking.",
      "priority": "medium",
      "status": "pending",
      "estimate": "25 tests",
      "source_file": "lib/providers/auto_plot_provider.dart",
      "test_file": "test/providers/auto_plot_provider_test.dart"
    },
    {
      "id": "4.2",
      "title": "Vision API Service Tests",
      "description": "Create test/services/vision_api_service_test.dart - Auto-plot AI. Test analyzeImage, parseResponse, errorHandling, rateLimiting, imagePreprocessing, coordinateMapping.",
      "priority": "medium",
      "status": "pending",
      "estimate": "30 tests",
      "source_file": "lib/services/vision_api_service.dart",
      "test_file": "test/services/vision_api_service_test.dart"
    },
    {
      "id": "4.3",
      "title": "Skills Provider Tests",
      "description": "Create test/providers/skills_provider_test.dart - Skills tracking. Test loadSkills, updateSkill, skillProgress, skillCategories, skillRecommendations.",
      "priority": "medium",
      "status": "pending",
      "estimate": "20 tests",
      "source_file": "lib/providers/skills_provider.dart",
      "test_file": "test/providers/skills_provider_test.dart"
    },
    {
      "id": "4.4",
      "title": "Shaft Analysis Tests",
      "description": "Create test/utils/shaft_analysis_test.dart - Shaft wear analysis. Test analyzeShaft, shotCount, wearIndicators, replacementSuggestion, shaftComparison.",
      "priority": "medium",
      "status": "pending",
      "estimate": "25 tests",
      "source_file": "lib/utils/shaft_analysis.dart",
      "test_file": "test/utils/shaft_analysis_test.dart"
    },
    {
      "id": "4.5",
      "title": "Tuning Suggestions Tests",
      "description": "Create test/utils/tuning_suggestions_test.dart - Tuning advice. Test analyzeTuning, suggestAdjustments, prioritizeSuggestions, tuningHistory, patternRecognition.",
      "priority": "medium",
      "status": "pending",
      "estimate": "25 tests",
      "source_file": "lib/utils/tuning_suggestions.dart",
      "test_file": "test/utils/tuning_suggestions_test.dart"
    },
    {
      "id": "4.6",
      "title": "Undo Manager Tests",
      "description": "Create test/utils/undo_manager_test.dart - Undo/redo. Test pushAction, undo, redo, clearHistory, maxStackSize, actionTypes.",
      "priority": "medium",
      "status": "pending",
      "estimate": "20 tests",
      "source_file": "lib/utils/undo_manager.dart",
      "test_file": "test/utils/undo_manager_test.dart"
    },
    {
      "id": "4.7",
      "title": "Scorecard Export Service Tests",
      "description": "Create test/services/scorecard_export_service_test.dart - Export functionality. Test exportToPdf, exportToCsv, exportToImage, formatScores, includeMetadata, errorHandling.",
      "priority": "medium",
      "status": "pending",
      "estimate": "25 tests",
      "source_file": "lib/services/scorecard_export_service.dart",
      "test_file": "test/services/scorecard_export_service_test.dart"
    },
    {
      "id": "5.1",
      "title": "Weather Service Tests",
      "description": "Create test/services/weather_service_test.dart - Weather API. Test fetchWeather, parseResponse, cacheWeather, offlineHandling.",
      "priority": "low",
      "status": "pending",
      "estimate": "20 tests",
      "source_file": "lib/services/weather_service.dart",
      "test_file": "test/services/weather_service_test.dart"
    },
    {
      "id": "5.2",
      "title": "Membership Card Service Tests",
      "description": "Create test/services/membership_card_service_test.dart - Card generation. Test generateCard, validateMembership, cardData.",
      "priority": "low",
      "status": "pending",
      "estimate": "15 tests",
      "source_file": "lib/services/membership_card_service.dart",
      "test_file": "test/services/membership_card_service_test.dart"
    },
    {
      "id": "5.3",
      "title": "Signature Service Tests",
      "description": "Create test/services/signature_service_test.dart - Signature capture. Test captureSignature, saveSignature, loadSignature.",
      "priority": "low",
      "status": "pending",
      "estimate": "15 tests",
      "source_file": "lib/services/signature_service.dart",
      "test_file": "test/services/signature_service_test.dart"
    },
    {
      "id": "5.4",
      "title": "Connectivity Provider Tests",
      "description": "Create test/providers/connectivity_provider_test.dart - Online/offline. Test checkConnectivity, onConnectivityChange, offlineMode.",
      "priority": "low",
      "status": "pending",
      "estimate": "15 tests",
      "source_file": "lib/providers/connectivity_provider.dart",
      "test_file": "test/providers/connectivity_provider_test.dart"
    },
    {
      "id": "5.5",
      "title": "Spider Graph Provider Tests",
      "description": "Create test/providers/spider_graph_provider_test.dart - Graph display. Test loadGraphData, calculateAxes, normalizeData.",
      "priority": "low",
      "status": "pending",
      "estimate": "15 tests",
      "source_file": "lib/providers/spider_graph_provider.dart",
      "test_file": "test/providers/spider_graph_provider_test.dart"
    },
    {
      "id": "5.6",
      "title": "Error Handler Tests",
      "description": "Create test/utils/error_handler_test.dart - Error formatting. Test handleError, formatMessage, logError.",
      "priority": "low",
      "status": "pending",
      "estimate": "15 tests",
      "source_file": "lib/utils/error_handler.dart",
      "test_file": "test/utils/error_handler_test.dart"
    },
    {
      "id": "5.7",
      "title": "Chiptune Service Tests",
      "description": "Create test/services/chiptune_service_test.dart - Audio playback. Test playSound, stopSound, volumeControl.",
      "priority": "low",
      "status": "pending",
      "estimate": "15 tests",
      "source_file": "lib/services/chiptune_service.dart",
      "test_file": "test/services/chiptune_service_test.dart"
    },
    {
      "id": "5.8",
      "title": "Chiptune Generator Tests",
      "description": "Create test/services/chiptune_generator_test.dart - Audio generation. Test generateTone, waveformTypes, frequencyRange.",
      "priority": "low",
      "status": "pending",
      "estimate": "15 tests",
      "source_file": "lib/services/chiptune_generator.dart",
      "test_file": "test/services/chiptune_generator_test.dart"
    },
    {
      "id": "5.9",
      "title": "Vibration Service Tests",
      "description": "Create test/services/vibration_service_test.dart - Haptics. Test vibrate, vibratePattern, checkSupport.",
      "priority": "low",
      "status": "pending",
      "estimate": "10 tests",
      "source_file": "lib/services/vibration_service.dart",
      "test_file": "test/services/vibration_service_test.dart"
    }
  ],
  "context": {
    "framework": "Flutter with flutter_test and mockito",
    "run_tests": "flutter test",
    "run_single": "flutter test test/services/sync_service_test.dart",
    "generate_mocks": "dart run build_runner build --delete-conflicting-outputs",
    "current_tests": 1445,
    "target_tests": 2000,
    "repo": "archery_super_app_v1",
    "branch": "main"
  },
  "rules": [
    "Data tests first - any test involving save/load/sync",
    "Mock external services - don't hit real Stripe/Firebase",
    "Run flutter test after each file to verify",
    "Update status to 'complete' when done",
    "All public methods need at least one test",
    "Cover edge cases: null, empty, zero, max values"
  ]
}
